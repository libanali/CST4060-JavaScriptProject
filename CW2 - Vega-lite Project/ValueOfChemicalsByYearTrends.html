<!DOCTYPE html>
<html>
  <head>
    <title>Value of Cheimcals by years (trends)</title>
    <meta charset="utf-8" />

    <script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

    <style media="screen">
      /* Add space between Vega-Embed links */
      .vega-actions a {
        margin-right: 5px;
      }
    </style>
  </head>
  <body>
    <h1>Value of Chemicals by year (trends)</h1>
     <div id="vis"></div>

<h1> Describe trends and anomalies with respect to chemical contamination in the Boonsong Lekagul waterways </h1>

<p> The data visualisation above shows the average value of the chemicals from the year 1998 to 2016. These chemicals were chosen because they have proven to pose a threat to wildlife. There are many trends and anomalies that can be seen from this visualisation. One such trend is that we can see that the chemicals ‘Nitrites’, ‘Atrazine’ and ‘Ammonium’ all have steady values for all the locations. In other words, we do not see a big change in the values throughout the years. Another trend that is visible in the data visualisations are the sudden rise that can be seen in the majority of the chemicals from 1998 to the early 2000s. Calcium, Chlorides, Lead, Manganese, Nickel and Sulphates are seen to have a spike in their value from 1998 to 2002. I will go into detail about the trends and anomalies in the corresponding sections. The anomaly findings will be discussed on a different page.  </p>> 



<h1> Finding 1 - Trend </h1>

<p> The graphs above show the value of the chemicals for each location as opposed to the previous. As mentioned earlier, one of the general trends or patterns for the visualisations is that ammonium, nitrites and atrazine had a steady value throughout the years in all the locations in comparison to the other chemicals. The values of the three chemicals have stayed relatively low in comparison to the other chemicals. We can see this from the visualisation because there is a straight line at the bottom of the line chart which indicates that there is pattern. A horizontal straight line would basically indicate that there is neither an increase or decrease in the values and this is the case with the Ammonium, Atrazine and Nitrites. The data is telling us that the level of ammonium, atrazine and nitrites have maintained a steady and low level throughout the years meaning that it won’t have a negative effect on wildlife. This data would be considered insightful because many aspects have been used to discover this finding such as the combination of all locations, the chemicals and sample dates. Many advanced Vega-lite features assisted me in making my visualisations more comprehensible. One such feature was concatenation. This feature gave me the ability to display my visualisations either in rows or columns. In this case, I programmed it to display my visualisations horizontally. Another advanced feature that was used was faceting. This feature enabled me to display different subsets of the same data. The last advanced feature I used was filter. This feature enabled me to choose specific variables from the dataset.  </p>



<h1> Finding 2 - Trend </h1>


<p> As mentioned earlier there is a pattern that can be seen for calcium, chlorides, lead, manganese, nickel and sulphates. In between the years 1998 and 2001-2, there seemed to have been a huge spike in the values. All the chemicals seemed to have reached a high value during this period. Sulphates and calcium seemed to have the highest values during this period of time. Manganese has recorded the highest spike in comparison to the other chemicals from 1998 to 1999, this could also be viewed as an outlier. Even if the majority of these chemicals are not harmful to the waterways, the spike for all these elements might be linked to how different the environment could have been during this period of time. In the article “Water and health: from environmental pressures to integrated responses” (Boelee, 2019), it discusses how the environment can have an effect on the state of water. It states, “Pressures in the environment result in changes in the state of the water body: chemical pollution, microbiological contamination and presence of vectors. These and other health hazards affect the state of health” (Boelee, 2019). With regards to the increase of the chemicals, we can clearly see this on graph because you can see that there is a huge spike in the graph, which clearly indicates that there is a rise. As mentioned earlier, the graphs are trying to tell us that there has been a huge increase in the values from the years 1998 to 2001-2. This could mean that the environment around this time was different in comparison to the other years. As mentioned earlier, one of the reasons why chemical values change in the water is due to changes in the climate. This finding would be considered insightful because many different components were considered when trying to discover this finding such as the sample date, location, chemical value and the environment. A mixture of advanced features was used to help me visualise this finding. Features such as concatenation, faceting and filtering were used.  </p>


<h1> Effectiveness of Visualisation </h1>

<p> As evident in my visualisation, I used a line chart when analysing the data. A line chart is commonly used to display change over time as a series of data points connected by a straight line on two or more axes. This chosen chart type is the perfect fit for this finding because line charts are configured to track and analyse changes over a period of time. Line charts are also convenient because they display data variables and trends distinctly and allow for predictions. The mark that was used in this visualisation was one-dimensional (1D) line. The reason I chose to use this mark was because it is easier to track changes over time using a line rather than using areas and points. As seen in figures 1-4, you can see that my data visualisations fall under the identity channel. As evident, I used different colours to help the user distinguish between the different locations. Colour hues are considered to be one of the most effective channels for categorical data. In “Visualisation analysis and design” (Munzner, 2014), Munzner states, “The most effective channel for categorical data is spatial region, with colour hue as the next best one” (Munzner, 2014). Although colour hue is considered to be the second best, I decided to use the colour hue because I thought it would be easier for the user to distinguish between the locations. There is one additional feature that I implemented in both my visualisations for trends and anomalies and that is tooltip. Tooltip allows the user to display the values just by simply hovering their mouse over the graph.  </p>


<h1> References </h1>

<p> ATSDR, (2012). Public Health Statement for Manganese. Available at: https://www.atsdr.cdc.gov/phs/phs.asp?id=100&tid=23. [Accessed 2 January 2020]. </p>
<p> Boelee, (2019). Water and health: from environmental pressures to integrated responses. Available at: https://www.sciencedirect.com/science/article/pii/S0001706X18300883#:~:text=Pressures%20in%20the%20environment%20result,the%20State%20of%20human%20health.  [Accessed 4 January 2020].  </p>
<p> EdrawMax, (2020). All you need to know about line graphs. Available at: https://www.edrawmax.com/line-graph/. [Accessed 3 January 2020]. </p>
<p> Munzner, T., 2014. Visualization Analysis and Design. 1st ed. Boca Raton, FL: CRC Press.  </p>
<p> SPSS, (2020). Missing data: the hidden problem. Available at: https://www.bauer.uh.edu/jhess/documents/2.pdf. [Accessed 2 January 2020].  </p>
<p> The Wildlife Society, (2017). Impacts of Lead (Pb) on Wildlife. Available at: http://wildlife.org/wp-content/uploads/2014/05/Impacts-of-Lead-on-Wildlife.pdf. [Accessed 6 January 2020]. </p>
<p> Vega-lite, (2020). Interactive Plots with Selections. Available at: https://vega.github.io/vega-lite/docs/selection.html. [Accessed 3 January 2020]. </p>


     <script>
        var vlSpec = {
         
          data: {url: "readings.csv"},


   
        


// Chai, Kannika, Boonsri, Kohsoom, Somchair and Sakda are the locations (location)

"transform": [
            {
                "filter": {
                    "field": "measure",
                    "oneOf": ["Calcium", "Nitrites", "Atrazine", "Sulphates", "Chlorides", "Ammonium", "Manganese", "Nickel", "Lead"], 
            }
          }
            ],

               
        

       



//display the graphs into rows and columns for comparison
 
        
data: {url: "readings.csv"},
 

"hconcat":[


{
"mark": "line",

width: 300,
//height: 400, 

columns: 3,
  
  "encoding": {


    "facet": {"field": "measure", "type": "nominal"},


    "x": {
      "field": "sample date",
      "timeUnit": "year",
      "type": "temporal",
      "title": "Year",
      "axis": {"grid": true}
    },
    "y": {
      "field": "values",
      "type": "quantitative",
      "aggregate": "mean",
      "title": "Value",
      "axis": {"grid": true}
    },

    
    "color": {
      "field": "measure",
      "type": "nominal",
      //"legend": null
    },

    "tooltip": [
      {"field": "sample date", "type": "ordinal", "timeUnit": "year"},
      {"field": "measure", "type": "nominal"},
      {"field": "values", "type": "quantitative", "aggregate": "mean"}
    ]


  }
}

]
        }


 












     vegaEmbed('#vis', vlSpec);
    </script>
    </body>
    </html>
